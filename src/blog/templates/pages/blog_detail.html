{% extends 'base.html' %}

{% block content %}

<!-- blog post card -->
<div class='container py-3'>
  <div class='card'>
    <div class='card-body'>
      <h1 class='card-title'>{{ blog_post.title }}</h1>
      <h6 class='card-title'><small class='text-muted'>{{ blog_post.created }}</small></h6>
      <h5 class='card-title'>by <a href="/users/{{ blog_post.author.user.username }}">{{ blog_post.author.user.username }}</a></h5>
      <p class="card-text">{{ blog_post.content | linebreaks | lower }}</p>

      <!-- show when last edited -->
      {% if blog_post.edited %}
        <h6 class='card-title'><small class='text-muted'>last edited {{ blog_post.modified  }}</small></h6>
      {% endif %}

      <!-- show like edit and delets buttons -->
      <a role="button" class="btn btn-outline-primary" href='like/'>Îµ> {{ blog_post.liked_by.count }}</a>
      {% if user.is_authenticated and user.username == blog_post.author.user.username %}
        <a role="button" class="btn btn-outline-secondary" href='edit/'>edit</a>
        <a role="button" class="btn btn-outline-danger" href='delete/'>delete</a>
      {% endif %}

    </div>
  </div>
</div>

<!-- comment section -->
<div class='container'>
  {% include 'list-comments.html' with comments=comments %}
</div>

{% endblock %}
